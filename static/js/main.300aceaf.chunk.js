(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/video.6f0f76e5.mp4"},16:function(e,t,a){e.exports=a(35)},21:function(e,t,a){},22:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(6),c=a.n(o),l=(a(21),a(7)),r=a(8),s=a(14),d=a(9),u=a(1),m=a(15),y=(a(22),a(10)),g=a.n(y),h=a(11),f=a.n(h),p=a(12),v=a.n(p),b=(a(30),a(13)),k=a.n(b),w=new g.a,E=function(e){function t(){var e;Object(l.a)(this,t);var a=(e=Object(s.a)(this,Object(d.a)(t).call(this))).getHashParams().access_token;return a&&w.setAccessToken(a),e.handleLoadSuccess=e.handleLoadSuccess.bind(Object(u.a)(e)),e.handleLoadFailure=e.handleLoadSuccess.bind(Object(u.a)(e)),e.cb=e.cb.bind(Object(u.a)(e)),e.state={loggedIn:!!a,nowPlaying:{names:"Nothing Playing",albumArt:"",artist:"",albumTitle:"",isPlaying:!1,trackURI:"",currentDeviceID:""},userInfo:{userName:"",userID:""},favPlaylistInfo:{playlistID:""}},e}return Object(m.a)(t,e),Object(r.a)(t,[{key:"getHashParams",value:function(){var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);for(e=a.exec(n);e;)t[e[1]]=decodeURIComponent(e[2]),e=a.exec(n);return t}},{key:"getNowPlaying",value:function(){var e=this;w.getMyCurrentPlaybackState().then(function(t){t.item?e.setState({nowPlaying:{name:t.item.name,albumArt:t.item.album.images[0].url,artist:t.item.artists[0].name,albumTitle:t.item.album.name,isPlaying:t.is_playing,trackURI:t.item.uri,currentDeviceID:t.device.id}}):e.setState({nowPlaying:{name:"",albumArt:"",artist:"",albumTitle:"",isPlaying:!1,trackURI:""}})})}},{key:"getUserInfo",value:function(){var e=this;w.getMe().then(function(t){e.setState({userInfo:{name:t.display_name.split(" ")[0],userID:t.id}})})}},{key:"transferPlayback",value:function(){w.play({device_id:"5e02af2d00fc9ddec962b6c0e9518f90c76399a3"})}},{key:"getLondonPlaylist",value:function(){w.play({device_id:"5e02af2d00fc9ddec962b6c0e9518f90c76399a3",context_uri:"spotify:playlist:1ar0yt2oQpD8pXjIw7iWPr"})}},{key:"getNewYorkPlaylist",value:function(){w.play({device_id:"5e02af2d00fc9ddec962b6c0e9518f90c76399a3",context_uri:"spotify:playlist:6wAvsF7l0rcJvgDAGGEMNk"})}},{key:"getLAPlaylist",value:function(){w.play({device_id:"5e02af2d00fc9ddec962b6c0e9518f90c76399a3",context_uri:"spotify:playlist:6qbWjEwNAiZag64dgm84pG"})}},{key:"getChicagoPlaylist",value:function(){w.play({device_id:"5e02af2d00fc9ddec962b6c0e9518f90c76399a3",context_uri:"spotify:playlist:0Gq3zcC1xzphOF3RjwJMi4"})}},{key:"componentDidMount",value:function(){var e=this;setInterval(function(){return e.getNowPlaying()},1e3),window.onSpotifyWebPlaybackSDKReady=function(){e.handleLoadSuccess()}}},{key:"handleLoadSuccess",value:function(){this.setState({scriptLoaded:!0}),console.log("Script Loaded");var e=new window.Spotify.Player({name:"Chunes",getOAuthToken:function(e){e(w.getAccessToken())}});console.log(e),e.addListener("initialization_error",function(e){var t=e.message;console.error(t)}),e.addListener("authentication_error",function(e){var t=e.message;console.error(t)}),e.addListener("account_error",function(e){var t=e.message;console.error(t)}),e.addListener("playback_error",function(e){var t=e.message;console.error(t)}),e.addListener("player_state_changed",function(e){console.log(e)}),e.addListener("ready",function(e){var t=e.device_id;console.log("Ready with Device ID",t)}),e.addListener("not_ready",function(e){var t=e.device_id;console.log("Device ID has gone offline",t)}),e.connect().then(function(e){e&&console.log("Connected")})}},{key:"cb",value:function(e){return e}},{key:"handleScriptCreate",value:function(){this.setState({scriptLoaded:!1}),console.log("Script created")}},{key:"handleScriptError",value:function(){this.setState({scriptError:!0}),console.log("Script error")}},{key:"handleScriptLoad",value:function(){this.setState({scriptLoaded:!0}),console.log("Script loaded")}},{key:"render",value:function(){var e,t,a,n,o,c,l,r,s=this.state.loggedIn,d=this.state.userInfo.name;s?(this.getUserInfo(),t=i.a.createElement("button",{onClick:w.skipToPrevious},"\xab"),a=i.a.createElement("button",{onClick:w.skipToNext},"\xbb"),o=i.a.createElement("button",{onClick:this.getLondonPlaylist},"London, England"),c=i.a.createElement("button",{onClick:this.getNewYorkPlaylist},"New York, New York"),l=i.a.createElement("button",{onClick:this.getLAPlaylist},"Los Angeles, California"),r=i.a.createElement("button",{onClick:this.getChicagoPlaylist},"Chicago, Illinois")):n=i.a.createElement("a",{href:"http://localhost:8888"},"Log In to Spotify");var u="Welcome";return s&&this.state.nowPlaying.isPlaying?(n=i.a.createElement("b",null,d," is currently listening to: "),u="\u25ba "+this.state.nowPlaying.artist+" - "+this.state.nowPlaying.name,e=i.a.createElement("button",{onClick:w.pause},"\u275a\u275a")):s&&(n=i.a.createElement("b",null,"Play Something!"),u="\u275a\u275a "+this.state.nowPlaying.artist+" - "+this.state.nowPlaying.name,e=i.a.createElement("button",{onClick:w.play},"\u25ba")),i.a.createElement("div",{className:"App"},i.a.createElement(f.a,null,i.a.createElement("title",null,u)),i.a.createElement("div",{className:"App-header"},i.a.createElement(v.a,{url:"https://sdk.scdn.co/spotify-player.js",onCreate:this.handleScriptCreate.bind(this),onError:this.handleScriptError.bind(this),onLoad:this.handleScriptLoad.bind(this)})),i.a.createElement("div",{id:"background-video"},i.a.createElement("video",{autoPlay:!0,muted:!0,loop:!0},i.a.createElement("source",{type:"video/mp4",src:k.a}))),i.a.createElement("div",{id:"log-in"},n),i.a.createElement("div",{id:"now-playing"},i.a.createElement("div",{id:"album-cover"},i.a.createElement("img",{src:this.state.nowPlaying.albumArt,style:{height:350}})),i.a.createElement("div",{id:"name-and-artist"},i.a.createElement("div",{id:"track-name"},i.a.createElement("b",null,this.state.nowPlaying.name)),i.a.createElement("div",{id:"track-artist"},i.a.createElement("b",null,this.state.nowPlaying.artist)))),i.a.createElement("div",{class:"controls"},t,e,a),i.a.createElement("div",{id:"buttons"},o,c,l,r))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.300aceaf.chunk.js.map